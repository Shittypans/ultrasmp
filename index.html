<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UltraSMP — Oficiální web</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">UltraSMP</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#info">Info</a></li>
          <li class="nav-item"><a class="nav-link" href="#join">Jak se napojit</a></li>
          <li class="nav-item"><a class="nav-link" href="#rules">Pravidla</a></li>
          <li class="nav-item"><a class="nav-link" href="#stats">Statistiky</a></li>
          <li class="nav-item"><a class="nav-link" href="#blacklist">Blacklist</a></li>
          <li class="nav-item"><a class="nav-link" href="#devlog">Dev Log</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Info -->
  <section id="info">
    <div class="container text-center">
      <h2 class="mb-4">O serveru</h2>
      <p class="lead">
        UltraSMP je unikátní survival server s <strong>custom itemy</strong>, <strong>speciálními schopnostmi</strong> a <strong>crate systémem</strong>.  
        Cíl je jednoduchý – přežij, postav si impérium a ukaž, že patříš mezi elitu SMP světa.
      </p>
      <p>🎮 Verze: <b>1.21.8</b> | 🌍 IP: <b>play.ultrasmp.eu</b> | 💬 Discord: <b>http://dsc.gg/ultrasmpeu</b></p>
    </div>
  </section>

  <!-- Jak se napojit -->
  <section id="join" class="bg-dark">
    <div class="container text-center">
      <h2 class="mb-4">Jak se napojit </h2>
      <ol class="list-group list-group-numbered text-start mx-auto" style="max-width:600px;">
        <li class="list-group-item bg-transparent text-light border-secondary">1️⃣ Otevři Minecraft (verze 1.21+)</li>
        <li class="list-group-item bg-transparent text-light border-secondary">2️⃣ Klikni na „Multiplayer“</li>
        <li class="list-group-item bg-transparent text-light border-secondary">3️⃣ Dej „Add Server“</li>
        <li class="list-group-item bg-transparent text-light border-secondary">4️⃣ Napiš IP: <b>play.ultrasmp.eu</b></li>
        <li class="list-group-item bg-transparent text-light border-secondary">5️⃣ Připoj se a užívej si peklo i ráj zároveň 😈</li>
      </ol>
    </div>
  </section>

  <!-- Pravidla -->
  <section id="rules">
    <div class="container">
      <h2 class="text-center mb-4">Pravidla</h2>
      <div class="card p-4">
        <ul>
          <li>❌ Žádné hacky, cheaty nebo modifikace zvyšující výhodu</li>
          <li>🔥 Griefing povolen pouze mimo chráněné oblasti</li>
          <li>💬 Respektuj ostatní hráče a staff</li>
          <li>🚫 Nepoužívej bugy ani dupe glitchy</li>
          <li>📜 Dodržuj pokyny adminů</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Statistiky -->
<section id="stats" class="bg-dark">
  <div class="container text-center">
    <h2 class="mb-4">Statistiky serveru</h2>
    <div class="row g-4">
      <div class="col-md-3">
        <div class="card p-3">
          <h5>Status</h5>
          <p id="status" class="fs-5 fw-bold">Načítání...</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card p-3">
          <h5>Online hráči</h5>
          <p id="onlineCount" class="fs-4 fw-bold">—</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card p-3">
          <h5>Max hráčů</h5>
          <p id="maxCount" class="fs-4 fw-bold">—</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card p-3">
          <h5>Verze</h5>
          <p id="version" class="fs-4 fw-bold">—</p>
        </div>
      </div>
    </div>
    <div class="mt-4 card p-3">
      <h5>MOTD</h5>
      <p id="motd" class="fw-semibold">Načítám...</p>
    </div>
  </div>
</section>

<!-- Dev Log -->
<section id="devlog" class="bg-dark py-5">
  <div class="container">
    <h2 class="text-center text-light mb-4">📝 Dev Log</h2>
    <ul id="devlogList" class="list-group"></ul>
  </div>
</section>

// File: app/page.tsx
import { neon } from '@neondatabase/serverless';

export default async function Page() {
  const sql = neon(process.env.DATABASE_URL);

  // Načti všechny devlogy z tabulky
  const devlogs = await sql('SELECT * FROM devlogs ORDER BY date DESC');

  return (
    <section id="devlog" className="bg-dark p-4">
      <h2 className="text-center text-light mb-4">📝 Dev Log</h2>
      <ul>
        {devlogs.map(d => (
          <li key={d.id} className="list-group-item bg-dark text-light mb-2">
            <h5>{d.title}</h5>
            <small>{new Date(d.date).toLocaleString()}</small>
            <p>{d.content}</p>
          </li>
        ))}
      </ul>
    </section>
  );
}

  <!-- Dev Log -->
  <section id="devlog" class="bg-dark">
<ul id="devlogList" class="list-group"></ul>
  </section>

  <footer>
    © 2025 UltraSMP — Všechna práva vyhrazená | Made with ❤️ by zakbrashko
  </footer>
  <script>
const apiUrl = "https://ep-spring-bread-a2ainhbq.apirest.eu-central-1.aws.neon.tech/neondb/rest/v1/devlogs";
const apiKey = "napi_rlq8e22azy95pz3p69hdfarml1oclpwgc1i80g8so7evr2sg3jv47elixe91uqzv";

fetch(apiUrl, {
  headers: {
    "apikey": apiKey,
    "Authorization": "Bearer " + apiKey
  }
})
.then(res => {
  if (!res.ok) throw new Error("Nepodařilo se načíst devlog: " + res.status);
  return res.json();
})
.then(data => {
  const list = document.getElementById("devlogList");
  if (!data.length) {
    list.innerHTML = `<li class="list-group-item bg-dark text-light text-center">Žádné záznamy devlogu</li>`;
    return;
  }

  // Seřadíme podle data sestupně (nové nahoře)
  data.sort((a,b) => new Date(b.date) - new Date(a.date));

  list.innerHTML = data.map(d => `
    <li class="list-group-item bg-dark text-light mb-2 rounded">
      <h5 class="mb-1">${d.title}</h5>
      <small class="text-muted">${new Date(d.date).toLocaleString()}</small>
      <p class="mb-0 mt-2">${d.content}</p>
    </li>
  `).join("");
})
.catch(err => {
  console.error(err);
  document.getElementById("devlogList").innerHTML = `<li class="list-group-item bg-dark text-danger text-center">Nepodařilo se načíst devlog</li>`;
});
</script>
<script>
async function loadStats() {
  const res = await fetch("https://api.mcsrvstat.us/2/play.ultrasmp.eu");
  const data = await res.json();

  const online = document.getElementById("onlineCount");
  const max = document.getElementById("maxCount");
  const version = document.getElementById("version");
  const motd = document.getElementById("motd");
  const status = document.getElementById("status");

  if (!data.online) {
    status.innerHTML = "🔴 Offline";
    online.innerHTML = "0";
    max.innerHTML = "-";
    version.innerHTML = "—";
    motd.innerHTML = "Server nedostupný";
    return;
  }

  status.innerHTML = "🟢 Online";
  online.innerHTML = data.players.online;
  max.innerHTML = data.players.max;
  version.innerHTML = data.version;
  motd.innerHTML = data.motd.clean.join("<br>");
}

loadStats();
setInterval(loadStats, 15000); // každých 15s update
</script>
<script>
// Statický blacklist
const blacklist = [ 
      {name: "z0yn3_", reason: "Cheating"},
      {name: "NoobMaster69", reason: "Trolling"},
      {name: "EpicFail", reason: "Griefing"}
    ];

    const list = document.getElementById("blacklist-list");

    blacklist.forEach(entry => {
      const li = document.createElement("li");

      const nameSpan = document.createElement("span");
      nameSpan.textContent = entry.name;
      nameSpan.classList.add("name");

      const reasonSpan = document.createElement("span");
      reasonSpan.textContent = ` - ${entry.reason}`;
      reasonSpan.classList.add("reason");

      li.appendChild(nameSpan);
      li.appendChild(reasonSpan);
      list.appendChild(li);
    });
  
  const blacklist = [ 
  {name: "z0yn3_", reason: "Cheating"},
  {name: "NoobMaster69", reason: "Trolling"},
  {name: "EpicFail", reason: "Griefing"}
];

// Funkce pro vykreslení
const listElement = document.getElementById("blacklistList");

blacklist.forEach(player => {
  const li = document.createElement("li");
  li.className = "list-group-item d-flex justify-content-between align-items-center";
  li.innerHTML = `<span>${player.name}</span><span class="badge bg-danger rounded-pill">${player.reason}</span>`;
  listElement.appendChild(li);
});
</script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>





















